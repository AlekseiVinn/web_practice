<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Практика 2 - 4</title>
        <script>
            (function(){
                window.addEventListener('DOMContentLoaded', (function(event) {
                    "use strict";

                    const userForm = document.getElementById('registerForm');

                    userForm.addEventListener('submit', (function(event) {
                        event.preventDefault();
                        "use strict";

                        const login = this.elements["login"];
                        const password = this.elements["password"];
                        const checkPass = this.elements["passCheck"];
                        const mail = this.elements["email"];
                        var result = document.getElementById("resLabel");

                        if (login.value === "" || password.value === "" || checkPass.value === "" || mail.value === "") {
                            result.style.backgroundColor = "red";
                            result.style.fontStyle = "bold";
                            result.textContent = "Пожалуйста, заполните все поля";
                            return;
                        }
                        if (password.value.length < 6 && password.value.length > 12) {
                            result.style.backgroundColor = "red";
                            result.style.fontStyle = "bold";
                            result.textContent = "Пароль должен содержать от 6 до 12 символов";
                            return;  
                        }
                        if (password.value !== checkPass.value) {
                            result.style.backgroundColor = "red";
                            result.style.fontStyle = "bold";
                            result.textContent = "Пароли не совпадают";  
                            return;
                        }
                        if (mail.value.indexOf("@") === -1) {
                            result.style.backgroundColor = "red";
                            result.style.fontStyle = "bold";
                            result.textContent ="Электронный адрес должен содержать символ '@'.";
                            return;
                        }
                        result.style.background = "none";
                        result.style.color = "green";
                        result.textContent ="Поля валидны, спасибо.";
                        return;
                    }));
                }));
              }());
        </script>
    </head>

    <body>
        <form id='registerForm'  action="" method="post">
            <label for="login">Логин:</label>
            <input type="text" id="login" name="login"><br><br>

            <label for="password">Пароль:</label>
            <input type="password" id="password" name="password"><br><br>

            <label for="passCheck">Проверка<br> пароля:</label>
            <input type="password" id="passCheck" name="passCheck"><br><br>

            <label for="email">E-mail:</label>
            <input type="email" id="email" name="email"><br><br>

            <input type="submit" value="Отправить">
            <label id="resLabel"></label>
        </form>
    </body>
</html>
